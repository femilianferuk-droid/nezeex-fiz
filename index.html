<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nezeex Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –°–ë–†–û–° –°–¢–ò–õ–ï–ô */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        
        .container {
            max-width: 100%;
        }
        
        /* –®–ê–ü–ö–ê */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .logo {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            opacity: 0.9;
            font-size: 16px;
        }
        
        /* –°–¢–†–ê–ù–´ */
        .countries {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .country {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .country:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.25);
        }
        
        .country-flag {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .country-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .country-price {
            color: #4ade80;
            font-weight: bold;
            font-size: 18px;
        }
        
        /* –ö–ù–û–ü–ö–ò */
        .button {
            background: #4ade80;
            color: white;
            border: none;
            padding: 18px;
            font-size: 18px;
            border-radius: 15px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            margin-bottom: 15px;
            transition: background 0.3s;
        }
        
        .button:hover {
            background: #22c55e;
        }
        
        .button-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        .button-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* –û–ü–¶–ò–ò */
        .options {
            margin: 20px 0;
        }
        
        .option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        
        .option.selected {
            background: rgba(74, 222, 128, 0.3);
            border: 2px solid #4ade80;
        }
        
        /* –ò–¢–û–ì–û */
        .total {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            color: #4ade80;
        }
        
        /* –°–°–´–õ–ö–ò */
        .links {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .link {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-decoration: none;
            color: white;
            font-size: 14px;
        }
        
        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4ade80;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            display: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <div class="header">
            <div class="logo">üì±</div>
            <h1>Nezeex Store</h1>
            <div class="subtitle">–§–∏–∑-–∞–∫–∫–∞—É–Ω—Ç—ã Telegram</div>
        </div>
        
        <!-- –í–´–ë–û–† –°–¢–†–ê–ù–´ -->
        <div class="section">
            <h2 style="margin-bottom: 15px;">üåç –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</h2>
            <div class="countries" id="countries">
                <!-- –°—Ç—Ä–∞–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
        
        <!-- –í–´–ë–û–† –û–ü–¶–ò–ô -->
        <div class="section" id="optionsSection" style="display: none;">
            <h2 style="margin-bottom: 15px;">‚ö° –û–ø—Ü–∏–∏</h2>
            <div class="options">
                <div class="option" onclick="selectOption('none')" id="optionNone">
                    <span>–ë–µ–∑ –æ–ø—Ü–∏–π</span>
                    <span>√ó1.0</span>
                </div>
                <div class="option" onclick="selectOption('warmed')" id="optionWarmed">
                    <span>üî• –ü—Ä–æ–≥—Ä–µ—Ç—ã–π</span>
                    <span>√ó1.3</span>
                </div>
                <div class="option" onclick="selectOption('otliga')" id="optionOtliga">
                    <span>üõ°Ô∏è –° –æ—Ç–ª–µ–≥–æ–π</span>
                    <span>√ó1.4</span>
                </div>
            </div>
        </div>
        
        <!-- –ò–¢–û–ì–û -->
        <div class="section" id="totalSection" style="display: none;">
            <div class="total" id="totalPrice">$0.00</div>
            <button class="button" onclick="buyAccount()" id="buyButton">
                üí≥ –ö—É–ø–∏—Ç—å –∑–∞ $0.00
            </button>
        </div>
        
        <!-- –ö–ù–û–ü–ö–ê –ü–†–û–°–ú–û–¢–†–ê -->
        <button class="button button-secondary" onclick="openSupport()">
            üë®‚Äçüíª –ü–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
        
        <!-- –°–°–´–õ–ö–ò -->
        <div class="links">
            <a href="https://t.me/v3estnikov" class="link" target="_blank">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            <a href="https://t.me/otzuvuvestnikaa" class="link" target="_blank">–û—Ç–∑—ã–≤—ã</a>
        </div>
    </div>
    
    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï -->
    <div class="notification" id="notification"></div>

    <script>
        // –¢–ï–õ–ï–ì–†–ê–ú WEB APP
        const tg = window.Telegram.WebApp;
        
        // –î–ê–ù–ù–´–ï –°–¢–†–ê–ù
        const countries = [
            {flag: "üá∫üá∏", name: "–°–®–ê", price: 0.46, code: "+1"},
            {flag: "üá®üá¶", name: "–ö–∞–Ω–∞–¥–∞", price: 0.46, code: "+1"},
            {flag: "üá∑üá∫", name: "–†–æ—Å—Å–∏—è", price: 3.90, code: "+7"},
            {flag: "üá∞üáø", name: "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", price: 2.28, code: "+7"},
            {flag: "üá¨üáß", name: "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è", price: 1.63, code: "+44"},
            {flag: "üáπüá∑", name: "–¢—É—Ä—Ü–∏—è", price: 1.30, code: "+90"},
            {flag: "üáÆüá≥", name: "–ò–Ω–¥–∏—è", price: 0.52, code: "+91"},
        ];
        
        // –û–ü–¶–ò–ò
        const options = {
            none: {name: "–ë–µ–∑ –æ–ø—Ü–∏–π", multiplier: 1.0},
            warmed: {name: "–ü—Ä–æ–≥—Ä–µ—Ç—ã–π", multiplier: 1.3},
            otliga: {name: "–° –æ—Ç–ª–µ–≥–æ–π", multiplier: 1.4}
        };
        
        // –¢–ï–ö–£–©–ò–ô –í–´–ë–û–†
        let selectedCountry = null;
        let selectedOption = 'none';
        
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        function init() {
            console.log("Initializing Mini App...");
            
            // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            tg.expand();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            tg.MainButton.setText("–ö—É–ø–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç");
            tg.MainButton.onClick(buyAccount);
            tg.MainButton.show();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω—ã
            loadCountries();
            
            // –õ–æ–≥–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            console.log("User data:", tg.initDataUnsafe.user);
            console.log("Platform:", tg.platform);
            
            showNotification("Mini App –∑–∞–≥—Ä—É–∂–µ–Ω!");
        }
        
        // –ó–ê–ì–†–£–ó–ö–ê –°–¢–†–ê–ù
        function loadCountries() {
            const container = document.getElementById('countries');
            container.innerHTML = '';
            
            countries.forEach(country => {
                const div = document.createElement('div');
                div.className = 'country';
                div.onclick = () => selectCountry(country);
                div.innerHTML = `
                    <div class="country-flag">${country.flag}</div>
                    <div class="country-name">${country.name}</div>
                    <div class="country-price">$${country.price}</div>
                `;
                container.appendChild(div);
            });
        }
        
        // –í–´–ë–û–† –°–¢–†–ê–ù–´
        function selectCountry(country) {
            selectedCountry = country;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–ø—Ü–∏–∏
            document.getElementById('optionsSection').style.display = 'block';
            document.getElementById('totalSection').style.display = 'block';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –æ–ø—Ü–∏–π
            selectedOption = 'none';
            document.getElementById('optionNone').classList.add('selected');
            document.getElementById('optionWarmed').classList.remove('selected');
            document.getElementById('optionOtliga').classList.remove('selected');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É
            updateTotal();
            
            showNotification(`–í—ã–±—Ä–∞–Ω–∞: ${country.flag} ${country.name}`);
        }
        
        // –í–´–ë–û–† –û–ü–¶–ò–ò
        function selectOption(option) {
            selectedOption = option;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            document.getElementById('optionNone').classList.remove('selected');
            document.getElementById('optionWarmed').classList.remove('selected');
            document.getElementById('optionOtliga').classList.remove('selected');
            
            document.getElementById(`option${option.charAt(0).toUpperCase() + option.slice(1)}`).classList.add('selected');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—É
            updateTotal();
        }
        
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–¢–û–ì–û–í–û–ô –¶–ï–ù–´
        function updateTotal() {
            if (!selectedCountry) return;
            
            const basePrice = selectedCountry.price;
            const multiplier = options[selectedOption].multiplier;
            const total = (basePrice * multiplier).toFixed(2);
            
            document.getElementById('totalPrice').textContent = `$${total}`;
            document.getElementById('buyButton').textContent = `üí≥ –ö—É–ø–∏—Ç—å –∑–∞ $${total}`;
            
            tg.MainButton.setText(`–ö—É–ø–∏—Ç—å –∑–∞ $${total}`);
        }
        
        // –ü–û–ö–£–ü–ö–ê –ê–ö–ö–ê–£–ù–¢–ê
        function buyAccount() {
            if (!selectedCountry) {
                tg.showAlert("–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É!");
                return;
            }
            
            const total = (selectedCountry.price * options[selectedOption].multiplier).toFixed(2);
            const message = `üõí –í–∞—à –∑–∞–∫–∞–∑:\n\n–°—Ç—Ä–∞–Ω–∞: ${selectedCountry.name} ${selectedCountry.flag}\n–û–ø—Ü–∏–∏: ${options[selectedOption].name}\n–¶–µ–Ω–∞: $${total}\n\n–î–ª—è –æ–ø–ª–∞—Ç—ã –Ω–∞–ø–∏—à–∏—Ç–µ @v3estnikov`;
            
            tg.showAlert(message);
        }
        
        // –û–¢–ö–†–´–¢–¨ –ü–û–î–î–ï–†–ñ–ö–£
        function openSupport() {
            tg.openTelegramLink('https://t.me/v3estnikov');
        }
        
        // –ü–û–ö–ê–ó–ê–¢–¨ –£–í–ï–î–û–ú–õ–ï–ù–ò–ï
        function showNotification(text) {
            const notification = document.getElementById('notification');
            notification.textContent = text;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // –ó–ê–ü–£–°–ö –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï
        document.addEventListener('DOMContentLoaded', init);
        
        // –ì–û–¢–û–í–ù–û–°–¢–¨ TELEGRAM WEB APP
        tg.ready();
    </script>
</body>
</html>
